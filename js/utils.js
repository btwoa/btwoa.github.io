(()=>{var e={throttle:(a,t,{leading:o=!0,trailing:n=!0}={})=>{let i,r=0,s=(e,t)=>{i=r=!1===o?0:Date.now(),a.apply(e,t)};return function(){var e=Date.now(),e=(r||!1!==o||(r=e),t-(e-r));e<=0||t<e?(i&&(clearTimeout(i),i=null),s(this,arguments)):i||!1===n||(i=setTimeout(()=>s(this,arguments),e))}},fadeIn:(e,t)=>e.style.cssText=`display:block;animation: to_show ${t}s`,fadeOut:(e,t)=>{let a=()=>{e.style.cssText="display: none; animation: '' ",e.removeEventListener("animationend",a)};e.addEventListener("animationend",a),e.style.animation=`to_hide ${t}s`},sidebarPaddingR:()=>{var e=window.innerWidth-document.body.clientWidth;0<e&&(document.body.style.paddingRight=e+"px")},snackbarShow:(e,t=!1,a=5e3)=>{document.styleSheets[0].addRule(":root",`--ba-snackbar-time:${a}ms!important`),Snackbar.show({text:e,showAction:t,duration:a,pos:"top-center"})},copy:async e=>{e=await navigator.clipboard.writeText(e).then(()=>GLOBAL_CONFIG.lang.copy.success).catch(()=>GLOBAL_CONFIG.lang.copy.error);utils.snackbarShow(e,!1,2e3)},getEleTop:e=>{let t=e.offsetTop;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t},siblings:(t,a)=>[...t.parentNode.children].filter(e=>a?e!==t&&e.matches(a):e!==t),randomNum:e=>Math.floor(Math.random()*e),timeDiff:(e,t)=>{t=t.getTime()-e.getTime();return Math.floor(t/864e5)},scrollToDest:(i,r=500)=>{let s=window.pageYOffset,e=document.getElementById("page-header").classList.contains("nav-fixed");if(i=s>i||e?i-70:i,"scrollBehavior"in document.documentElement.style)window.scrollTo({top:i,behavior:"smooth"});else{let o=i-s,n=e=>{let t=t||e,a=e-t;a<r?(window.scrollTo(0,s+o*a/r),window.requestAnimationFrame(n)):window.scrollTo(0,i)};window.requestAnimationFrame(n)}},isMobile:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isHidden:e=>0===e.offsetHeight&&0===e.offsetWidth,addEventListenerPjax:(e,t,a,o=!1)=>{e.addEventListener(t,a,o),utils.addGlobalFn("pjax",()=>{e.removeEventListener(t,a,o)})},animateIn:(e,t)=>{Object.assign(e.style,{display:"block",animation:t})},animateOut:(e,t)=>{let a=()=>{e.style.display="",e.style.animation="",e.removeEventListener("animationend",a)};e.addEventListener("animationend",a),e.style.animation=t},wrap:(e,t,a)=>{var o=document.createElement(t);for(let[e,t]of Object.entries(a))o.setAttribute(e,t);e.parentNode.insertBefore(o,e),o.appendChild(e)},lazyloadImg:()=>{window.lazyLoadInstance=new LazyLoad({elements_selector:"img",threshold:0,data_src:"lazy-src",callback_error:e=>e.src=GLOBAL_CONFIG.lazyload.error})},lightbox:function(e){let t=GLOBAL_CONFIG.lightbox,a={class:"fancybox","data-fancybox":"gallery"};"mediumZoom"===t?mediumZoom&&mediumZoom(e,{background:"var(--ba-card-bg)"}):"fancybox"===t&&(e.forEach(e=>{"A"!==e.parentNode.tagName&&(a.href=a["data-thumb"]=e.dataset.lazySrc||e.src,a["data-caption"]=e.title||e.alt||"",utils.wrap(e,"a",a))}),window.fancyboxRun||(Fancybox.bind("[data-fancybox]",{Hash:!1,animated:!0,Thumbs:{showOnStart:!1},Images:{Panzoom:{maxScale:4}},Carousel:{transition:"slide"},Toolbar:{display:{left:["infobar"],middle:["zoomIn","zoomOut","toggle1to1","rotateCCW","rotateCW","flipX","flipY"],right:["slideshow","thumbs","close"]}}}),window.fancyboxRun=!0))},diffDate:(e,t=!1)=>{var a,o=new Date,e=new Date(e),o=o-e,n=GLOBAL_CONFIG.lang.time,i=Math.floor(o/864e5);return t?(t=Math.floor(o/6e4),a=Math.floor(o/36e5),12<(o=Math.floor(o/2592e6))?e.toISOString().slice(0,10):1<=o?o+" "+n.month:1<=i?i+" "+n.day:1<=a?a+" "+n.hour:1<=t?t+" "+n.min:n.just):i},loadComment:(e,t)=>{let a="IntersectionObserver"in window?new IntersectionObserver(e=>{e[0].isIntersecting&&(t(),a.disconnect())},{threshold:[0]}):null;a?a.observe(e):t()}};window.utils={...window.utils,...e}})();